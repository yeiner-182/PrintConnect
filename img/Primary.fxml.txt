<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.Cursor?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane style="-fx-background-color: #f5f6fa;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.printconnect.printconnect.PrimaryController">
    
    <top>
        <VBox>
            <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: white; -fx-padding: 15 30; -fx-border-color: #e5e7eb; -fx-border-width: 0 0 1 0;">
                <children>
               <ImageView fitHeight="25.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
                  <image>
                     <Image url="@icons/logo.png" />
                  </image>
               </ImageView>
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <children>
                            <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #1e293b;" text="PrintConnect" />
                        </children>
                    </HBox>
                    
                    <HBox alignment="CENTER_LEFT" spacing="30" HBox.hgrow="ALWAYS">
                        <children>
                     <Button fx:id="btninicio" onAction="#switchToSecondary" style="-fx-background-color: transparent; -fx-text-fill: #64748b; -fx-font-size: 14px; -fx-padding: 8 0;" text="Inicio">
                        <cursor>
                           <Cursor fx:constant="HAND" />
                        </cursor></Button>
                     <Button fx:id="btnmonitor" onAction="#switchToPrimary" style="-fx-background-color: transparent; -fx-text-fill: #3b82f6; -fx-font-size: 14px; -fx-font-weight: bold; -fx-border-width: 0 0 2 0; -fx-border-color: #3b82f6; -fx-padding: 8 0;" text="Monitor">
                        <cursor>
                           <Cursor fx:constant="HAND" />
                        </cursor></Button>
                            <Button style="-fx-background-color: transparent; -fx-text-fill: #64748b; -fx-font-size: 14px; -fx-padding: 8 0;" text="Niveles de tinta" />
                        </children>
                        <padding>
                            <Insets left="50" />
                        </padding>
                    </HBox>
                    
                    <HBox alignment="CENTER_RIGHT" spacing="15">
                        <children>
                            <Button style="-fx-background-color: transparent; -fx-font-size: 20px; -fx-padding: 5;" text="âš™" />
                        </children>
                    </HBox>
                </children>
            </HBox>
            
            <VBox fx:id="icon1" spacing="5" style="-fx-background-color: white; -fx-padding: 30 30 20 30; -fx-border-color: #e5e7eb; -fx-border-width: 0 0 1 0;">
                <children>
                    <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #0f172a;" text="GestiÃ³n de impresoras" />
                    <Label style="-fx-font-size: 14px; -fx-text-fill: #64748b;" text="Filtra y administra tus impresoras de red." />
                </children>
            </VBox>
        </VBox>
    </top>
    
    <center>
        <VBox spacing="20">
            <children>
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <children>
                        <Button style="-fx-background-color: #3b82f6; -fx-text-fill: white; -fx-font-size: 13px; -fx-padding: 8 20; -fx-background-radius: 20;" text="Todas">
                        </Button>
                        <Button style="-fx-background-color: #e5e7eb; -fx-text-fill: #64748b; -fx-font-size: 13px; -fx-padding: 8 20; -fx-background-radius: 20;" text="Listas" />
                        <Button style="-fx-background-color: #e5e7eb; -fx-text-fill: #64748b; -fx-font-size: 13px; -fx-padding: 8 20; -fx-background-radius: 20;" text="En uso" />
                        <Button style="-fx-background-color: #e5e7eb; -fx-text-fill: #64748b; -fx-font-size: 13px; -fx-padding: 8 20; -fx-background-radius: 20;" text="En error" />
                        
                        <TextField prefWidth="300" promptText="Ej: Oficina Principal" style="-fx-background-color: white; -fx-border-color: #e5e7eb; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 10 15;" />
                        
                        <Region HBox.hgrow="ALWAYS" />
                        
                        <Button fx:id="btnAgregar" onAction="#handleAgregarImpresora" style="-fx-background-color: #3b82f6; -fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 8;" text="+ Agregar Impresora">
                     <cursor>
                        <Cursor fx:constant="HAND" />
                     </cursor></Button>
                    </children>
                </HBox>
                
                <VBox style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10, 0, 0, 2);">
                    <children>
                        <TableView fx:id="printersTable" style="-fx-background-color: white; -fx-background-radius: 12;">
                            <columns>
                                <TableColumn fx:id="nombreColumn" prefWidth="180" text="Nombre o Host" />
                                <TableColumn fx:id="ubicacionColumn" prefWidth="200" text="UbicaciÃ³n" />
                                <TableColumn fx:id="estadoColumn" prefWidth="150" text="Estado" />
                                <TableColumn fx:id="modeloColumn" prefWidth="150" text="Modelo" />
                                <TableColumn fx:id="tintaColumn" prefWidth="120" text="ðŸŽ¨ Nivel Tinta" />
                                <TableColumn fx:id="accionesColumn" prefWidth="150" text="Acciones" />
                            </columns>
                     <cursor>
                        <Cursor fx:constant="HAND" />
                     </cursor>
                        </TableView>
                    </children>
                    <padding>
                        <Insets bottom="0" left="0" right="0" top="0" />
                    </padding>
                </VBox>
                
                <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-padding: 10 0 0 0;">
                    <children>
                        <Button fx:id="btnActualizar" onAction="#handleActualizarEstado" style="-fx-background-color: #10b981; -fx-text-fill: white; -fx-font-size: 13px; -fx-padding: 10 20; -fx-background-radius: 8;" text="ðŸ”„ Actualizar Estado">
                     <cursor>
                        <Cursor fx:constant="HAND" />
                     </cursor></Button>
                        <Button fx:id="btnEliminar" onAction="#handleEliminarImpresora" style="-fx-background-color: #ef4444; -fx-text-fill: white; -fx-font-size: 13px; -fx-padding: 10 20; -fx-background-radius: 8;" text="ðŸ—‘ Eliminar">
                     <cursor>
                        <Cursor fx:constant="HAND" />
                     </cursor></Button>
                        
                        <Region HBox.hgrow="ALWAYS" />
                        
                        <Label fx:id="statusLabel" style="-fx-text-fill: #64748b; -fx-font-size: 13px;" text="Total: 0 impresoras | En lÃ­nea: 0" />
                    </children>
                </HBox>
            </children>
            <padding>
                <Insets bottom="30" left="30" right="30" top="30" />
            </padding>
        </VBox>
    </center>
    
</BorderPane>
